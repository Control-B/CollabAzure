<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" width="1200" height="800">
  <style>
    @keyframes dashMove {
      0% { stroke-dashoffset: 1000; }
      100% { stroke-dashoffset: 0; }
    }
    @keyframes ping {
      0% { transform: scale(0.9); opacity: .6; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(0.9); opacity: .6; }
    }
    @keyframes glowPulse {
      0%,100% { opacity: .15; }
      50% { opacity: .35; }
    }
    .route {
      stroke-dasharray: 14 18;
      animation: dashMove 5s linear infinite;
      stroke-linecap: round; stroke-linejoin: round;
    }
    .waypoint { transform-box: fill-box; transform-origin: center; animation: ping 1.8s ease-in-out infinite; }
    .w1 { animation-delay: .0s; }
    .w2 { animation-delay: .3s; }
    .w3 { animation-delay: .6s; }
    @media (prefers-reduced-motion: reduce) {
      .route, .waypoint { animation: none !important; }
    }
  </style>
  <defs>
    <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0%" stop-color="#10b981"/>
      <stop offset="100%" stop-color="#14b8a6"/>
    </linearGradient>
    <!-- Clip and blur for real map background -->
    <clipPath id="mapClip">
      <rect x="120" y="140" width="960" height="440" rx="16"/>
    </clipPath>
    <filter id="mapBlur" x="-10%" y="-10%" width="120%" height="120%">
      <feGaussianBlur stdDeviation="1.4"/>
      <feColorMatrix type="saturate" values="0.75"/>
    </filter>
  </defs>
  <rect width="1200" height="800" fill="#0b1220"/>
  <rect x="80" y="100" width="1040" height="560" rx="24" fill="#0f172a" stroke="#1f2a44"/>
  <rect x="120" y="140" width="960" height="440" rx="16" fill="#0b1628"/>

  <!-- Real map image background (drop map-bg.jpg into /public/images) -->
  <g clip-path="url(#mapClip)">
    <image href="/images/map-bg.jpg" x="120" y="140" width="960" height="440" preserveAspectRatio="xMidYMid slice" style="opacity:.35; filter:url(#mapBlur)"/>
    <!-- optional darken overlay for legibility -->
    <rect x="120" y="140" width="960" height="440" fill="#0b1220" opacity=".2"/>
  </g>

  <!-- simple map background (roads/grid) -->
  <g opacity="0.18" stroke="#1e293b">
    <!-- vertical grid -->
    <line x1="180" y1="160" x2="180" y2="560"/>
    <line x1="260" y1="160" x2="260" y2="560"/>
    <line x1="340" y1="160" x2="340" y2="560"/>
    <line x1="420" y1="160" x2="420" y2="560"/>
    <line x1="500" y1="160" x2="500" y2="560"/>
    <line x1="580" y1="160" x2="580" y2="560"/>
    <line x1="660" y1="160" x2="660" y2="560"/>
    <line x1="740" y1="160" x2="740" y2="560"/>
    <line x1="820" y1="160" x2="820" y2="560"/>
    <line x1="900" y1="160" x2="900" y2="560"/>
    <line x1="980" y1="160" x2="980" y2="560"/>
    <!-- horizontal grid -->
    <line x1="140" y1="200" x2="1080" y2="200"/>
    <line x1="140" y1="260" x2="1080" y2="260"/>
    <line x1="140" y1="320" x2="1080" y2="320"/>
    <line x1="140" y1="380" x2="1080" y2="380"/>
    <line x1="140" y1="440" x2="1080" y2="440"/>
    <line x1="140" y1="500" x2="1080" y2="500"/>
  </g>

  <!-- route glow -->
  <polyline points="150,480 300,420 450,460 600,380 750,400 900,320 1050,360" fill="none" stroke="#14b8a6" stroke-opacity="0.25" stroke-width="14" style="filter: blur(0.3px); animation: glowPulse 3s ease-in-out infinite"/>
  <!-- animated route -->
  <polyline class="route" points="150,480 300,420 450,460 600,380 750,400 900,320 1050,360" fill="none" stroke="url(#g)" stroke-width="8"/>

  <!-- moving tracker (vehicle) along route -->
  <path id="routePath" d="M150 480 L300 420 L450 460 L600 380 L750 400 L900 320 L1050 360" fill="none"/>
  <g>
    <circle r="10" fill="#22d3ee">
      <animateMotion dur="8s" repeatCount="indefinite" rotate="auto">
        <mpath href="#routePath"/>
      </animateMotion>
    </circle>
  </g>

  <!-- waypoints with ping -->
  <g class="waypoint w1">
    <circle cx="300" cy="420" r="11" fill="url(#g)"/>
    <circle cx="300" cy="420" r="22" fill="none" stroke="#14b8a6" stroke-opacity="0.35"/>
  </g>
  <g class="waypoint w2">
    <circle cx="600" cy="380" r="11" fill="url(#g)"/>
    <circle cx="600" cy="380" r="22" fill="none" stroke="#14b8a6" stroke-opacity="0.35"/>
  </g>
  <g class="waypoint w3">
    <!-- current location pin -->
    <g transform="translate(900,320)">
      <path d="M0 -28c-16 0-28 12-28 28 0 22 28 52 28 52s28-30 28-52c0-16-12-28-28-28z" fill="url(#g)"/>
      <circle cx="0" cy="0" r="10" fill="#0b1220"/>
    </g>
    <circle cx="900" cy="320" r="24" fill="none" stroke="#14b8a6" stroke-opacity="0.35"/>
  </g>
</svg>
