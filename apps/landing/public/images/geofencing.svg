<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" width="1200" height="800">
  <style>
    @keyframes ripple {
      0% { r: 80; opacity: .45; }
      70% { r: 260; opacity: .08; }
      100% { r: 260; opacity: 0; }
    }
    @keyframes pulse {
      0%,100% { transform: scale(0.96); }
      50% { transform: scale(1.04); }
    }
    .ring { fill: none; stroke: #1f2a44; stroke-width: 8; }
    .pulse { transform-box: fill-box; transform-origin: center; animation: pulse 1.8s ease-in-out infinite; }
    @media (prefers-reduced-motion: reduce) {
      .pulse { animation: none !important; }
      circle[style*="ripple"], circle[style*="ripple"] { animation: none !important; }
    }
  </style>
  <defs>
    <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0%" stop-color="#38bdf8"/>
      <stop offset="100%" stop-color="#06b6d4"/>
    </linearGradient>
    <clipPath id="mapClip">
      <rect x="120" y="120" width="960" height="560" rx="24"/>
    </clipPath>
    <filter id="mapBlur" x="-10%" y="-10%" width="120%" height="120%">
      <feGaussianBlur stdDeviation="1.4"/>
      <feColorMatrix type="saturate" values="0.75"/>
    </filter>
  </defs>
  <rect width="1200" height="800" fill="#0b1220"/>
  <rect x="120" y="120" width="960" height="560" rx="24" fill="#0f172a" stroke="#1f2a44"/>
  <g clip-path="url(#mapClip)">
    <image href="/images/map-bg.jpg" x="120" y="120" width="960" height="560" preserveAspectRatio="xMidYMid slice" style="opacity:.35; filter:url(#mapBlur)"/>
    <rect x="120" y="120" width="960" height="560" fill="#0b1220" opacity=".2"/>
  </g>

  <!-- static guidance rings -->
  <circle class="ring" cx="600" cy="400" r="220"/>
  <circle class="ring" cx="600" cy="400" r="160"/>
  <circle class="ring" cx="600" cy="400" r="100"/>

  <!-- animated ripples to indicate geofence activity -->
  <circle cx="600" cy="400" r="80" stroke="url(#g)" stroke-width="10" fill="none" style="animation:ripple 3s ease-out infinite"/>
  <circle cx="600" cy="400" r="80" stroke="url(#g)" stroke-width="10" fill="none" style="animation:ripple 3s ease-out 1.2s infinite"/>

  <!-- geofence marker -->
  <g class="pulse">
    <path d="M600 310c-50 0-90 40-90 90 0 70 90 170 90 170s90-100 90-170c0-50-40-90-90-90z" fill="url(#g)" opacity="0.9"/>
    <circle cx="600" cy="400" r="18" fill="#0b1220"/>
  </g>
</svg>
